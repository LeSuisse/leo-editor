# Config file for mypy

# Note: Do not put comments after settings.

[mypy]
python_version = 3.9
ignore_missing_imports  = True
incremental = True
# cache_dir=nul
cache_dir = mypy_stubs
show_error_codes = True
check_untyped_defs = True
strict_optional = False
disable_error_code=attr-defined

#  |leo/plugins/(?!qt_).*\.py
# |leo/plugins/qt_main\.py
# |leo/core/leoQt6\.py
# |leo/doc/sphinx-docs/conf\.py
# |leo/core/format-code\.py
# |leo/plugins/examples/

# Rem: for v0.931, per  https://github.com/python/mypy/issues/11936
exclude = leo/(dist|doc|extensions|external|modes|plugins|scripts|test|unittests)/
    
 #   /|leo/modes/|leo/scripts|leo/test/|leo/unittests|leo/plugins/obsolete/|leo/plugins/editpane/|leo/plugins/pygeotag/|leo/plugins/test/|leo/plugins/viewrendered.?\.py

# Settings for particular files...

[mypy-leo.core.leoGlobals,leo.core.leoNodes]
disallow_untyped_defs = True
disallow_incomplete_defs = False

# mypy generates lots of useless errors for leoQt.py
[mypy-leo.core.leoQt,leo.core.leoQt5,leo.core.leoQt6]
follow_imports = skip
ignore_missing_imports  = True

[mypy-leo.core.leoRope,leo.external.npyscreen]
follow_imports = skip
ignore_missing_imports  = True